<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">

    <title>Cool video chat</title>
        <script src='http://static.opentok.com/webrtc/v2.2/js/opentok.min.js'></script>
    <script type="text/javascript">
      // Initialize API key, session, and token...
      // Think of a session as a room, and a token as the key to get in to the room
      // Sessions and tokens are generated on your server and passed down to the client
      var apiKey = "45189182";
      var sessionId = "{{ SESSION_ID }}";
      var token = "{{ TOKEN }}";

      // Initialize session, set up event listeners, and connect
      var session = OT.initSession(apiKey, sessionId);

      session.on("streamCreated", function(event) {
        session.subscribe(event.stream);
      });

      session.connect(token, function(error) {
        publisher = OT.initPublisher("myPublisher",{
            insertMode: 'append',
            width: 555, height:300
        });
        publisher.publishVideo(false);
        session.publish(publisher);




      });
    </script>
</head>
<body>
<div id="container">
  <div id="myPublisher"></div>
  <script type="text/javascript">
      big = false
      function resizePublisher() {
            var pubElement = document.getElementById(publisher.id);
            if (big == false) {
                pubElement.style.width = "1000px";
                pubElement.style.height = "750px";
            } else {
                pubElement.style.width = "500px";
                pubElement.style.height = "375px";
            }
            big = !big
        }
  </script>
  <a href="javascript:resizePublisher()">resize</a>
</div>
</body>
</html>